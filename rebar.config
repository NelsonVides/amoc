{erl_opts, [debug_info,
            warn_missing_spec,
            {i, ["include"]},
            {src_dirs, ["src", "scenarios"]},
            {parse_transform, lager_transform}]}.

{eunit_compile_opts, [nowarn_missing_spec]}.

{deps, [
        {lager,             "3.6.8"},
        {jiffy,             "0.15.2"},
        {trails,            "2.1.0"},
        {cowboy_swagger,    "2.1.0"},
        {exometer_core, {git, "https://github.com/esl/exometer_core.git", {branch, "master"}}},
        {exometer_report_graphite, {git, "https://github.com/esl/exometer_report_graphite.git", {branch, "master"}}},
        {exometer_report_statsd, {git, "https://github.com/esl/exometer_report_statsd.git", {branch, "master"}}},
        {recon,             "2.4.0"},
        {meck,              "0.8.12"},
        {proper,            "1.3.0"},
        {cowboy,            "2.3.0"},
        {fusco,             {git, "https://github.com/esl/fusco.git", {ref, "de08ade"}}}
       ]}.

{relx, [
    {release, {amoc, "2.0.0"}, [amoc, inets, runtime_tools]},
    {dev_mode, false},
    {include_erts, true},
    {include_src, false},
    {extended_start_script, true},
    {vm_args, "./priv/vm.args"},
    {overlay, [
        {mkdir, "scenarios_ebin"},
        {copy, "scenarios", "scenarios"}
    ]}
]}.

{xref_checks,[undefined_function_calls, undefined_functions, locals_not_used,
              deprecated_function_calls, deprecated_functions]}.
