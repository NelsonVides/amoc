    {erl_opts, [debug_info,
                warn_missing_spec,
                {i, ["include"]},
                {src_dirs, ["src", "scenarios"]},
                {parse_transform, lager_transform}]}.

    {eunit_compile_opts, [nowarn_missing_spec]}.

    {deps, [
            {lager,             "3.6.8"},
            {jiffy,             "0.15.2"},
            {trails,            {git, "https://github.com/inaka/cowboy-trails.git", {tag, "0.1.1"}}},
            {cowboy_swagger,    {git, "http://github.com/inaka/cowboy-swagger.git", {tag, "1.0.3"}}},
            {escalus,           {git, "git://github.com/esl/escalus.git", {ref, "d7320f4"}}},
            {usec,              {git, "git://github.com/esl/usec.git", {branch, "master"}}},
            {exometer,          {git, "git://github.com/Feuerlabs/exometer.git", {ref, "7a7bd8d"}}},
            {recon,             "2.4.0"},
            {meck,              "0.8.12"},
            {cowboy,            {git, "https://github.com/ninenines/cowboy.git", {tag, "1.0.4"}}},
            {fusco,             {git, "https://github.com/esl/fusco.git"}}
           ]}.


    {profiles, [
                {test, [
                        {deps, [proper, meck]}
                       ]}
               ]}.


    {relx, [
        {release, {amoc, "0.9.0"}, [amoc]},
        {dev_mode, false},
        {include_erts, true},
        {include_src, false},
        {extended_start_script, true},
        {sys_config, "priv/app.config"},
        {vm_args, "./priv/vm.args"},
        {overlay, [
            {mkdir, "scenarios_ebin"},
            {copy, "scenarios", "scenarios"}
        ]}
    ]}.
