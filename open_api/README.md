## migration from [cowboy-swagger](https://github.com/inaka/cowboy_swagger) to [openapi generator](https://openapi-generator.tech/)
### amoc-openapi.yaml generation:
* download `swagger.json` file generated by [cowboy-swagger](https://github.com/inaka/cowboy_swagger) from `Amoc`:
```bash
curl http://localhost:4000/api-docs/swagger.json -o amoc-swagger.json
```
* open [Swagger Editor](http://editor.swagger.io/) and import downloaded `amoc-swagger.json` file (`File` -> `Import file`)
* convert it into OpenAPI format (`Edit` -> `Convert to OpenAPI 3`)
* add mandatory `version` property in the `info` section
* apply auto-formatting (`Edit` -> `Convert to YAML`)
* save the yaml file (`File`->`Save As YAML`) as `amoc-openapi.yaml`
### validation of the YAML spec:
```bash
alias openapi-generator='docker run --rm -v "${PWD}:/local" openapitools/openapi-generator-cli:v4.3.1'
openapi-generator validate -i /local/amoc-openapi.yaml
```
### erlang-server stubs generation:
```bash
openapi-generator generate -g erlang-server \
  --additional-properties=packageName=amoc_rest \
  -i /local/amoc-openapi.yaml -o /local/amoc_rest
```
the full list of configuration options for the `erlang-server` generator can be found here:
* https://openapi-generator.tech/docs/generators/erlang-server/
